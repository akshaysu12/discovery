import * as React from 'react';
import { Scatter } from 'react-chartjs-2';
import ChartDataLabels from 'chartjs-plugin-datalabels';

const convertData = (dimensions: number[][]): any => {
  const res = dimensions.map((arr: number[]) => {
    return {x: arr[0], y: arr[1]};
  });
  return res;
};

// tslint:disable-next-line: max-line-length
// const dimensions = [[-0.280543978553875, -2.4419943212293944], [0.37590125841295463, 2.922587186726264], [-1.495363630886883, -4.772909508150865], [0.4739039862091937, 3.578748164792173], [-3.8621543386841646, -3.4953935823773614], [-0.23433218900953157, 0.8330327621833065], [-0.5702203132692965, -2.3911200040995224], [-2.2277342472314965, -4.489628076259802], [2.785563559022118, 4.242459449479373], [0.3072014399857661, 3.5731715789489793], [2.3529798190577558, 4.251229665710858], [0.3278559704879672, 0.702818460665232], [-3.6110499696038536, -4.108050209654977], [2.123955209424453, 4.507191431592305], [1.2845847266545056, 2.94676417726209], [1.6951343766196267, 2.0334949018194814], [0.15259324557940707, -1.4285860746343195], [2.7490546006201884, 2.5318194697617376], [0.8888057511339182, 2.619954228725227], [-1.4122765044951315, -2.787837467911606], [-0.9819860211807161, -2.2862433415763084], [-0.08375481460719192, 0.4872366192219926], [-1.2651158678526744, 0.619541731966385], [1.2633982358633244, 0.7479671435300019], [-1.222651800978845, 0.2406631204015408], [-3.6142791893048463, -2.7802988330276897], [0.25576001581601804, 0.10716822493058564], [-0.5056373014930399, -0.5692434970132603], [-2.0858953345744236, 2.8037742140316757], [2.1873010130805963, 3.9111629831687584], [0.972321624238303, 2.410368412986232], [-0.16432926854600938, -0.5845750809933525], [0.15375321322034696, 3.138853751499585], [2.432022265576226, 2.7851174052187186], [0.665751284012868, 0.12388119242278833], [0.8097888947225698, 2.440389830585955], [-2.8455896184408096, -2.020741445228828], [0.6253611677281172, -0.03537711201380567], [-3.07436325551493, -4.158991202613017], [-1.449626114087924, -3.0346140194680484], [-1.1365505030289271, -3.0106267349188935], [-1.6703753840022593, -3.030901575122904], [-3.7438883285904447, -3.5098991488054567], [-3.402728478106224, -2.576929366713494], [1.4704308008255658, 1.7652883499122445], [-4.193377082064718, -3.4258883199887205], [1.3118721303264698, 2.247302769996602], [-3.4739865564233314, -3.6607525636756035], [-1.158084977983002, -2.040559179882904], [-1.5380856376719279, 1.8576676778889254]];

export const Visualization = (props) => {
  ChartDataLabels;

  const data = {
    labels: ['Scatter'],
    datasets: [
      {
        label: 'My First dataset',
        fill: false,
        backgroundColor: 'rgba(75,192,192,0.4)',
        pointBorderColor: 'rgba(75,192,192,1)',
        pointBackgroundColor: '#fff',
        pointBorderWidth: 1,
        pointHoverRadius: 5,
        pointHoverBackgroundColor: 'rgba(75,192,192,1)',
        pointHoverBorderColor: 'rgba(220,220,220,1)',
        pointHoverBorderWidth: 2,
        pointRadius: 2,
        pointHitRadius: 10,
        data: convertData(props.dimensions),
      },
    ],
  };

  const options = {
    plugins: {
      datalabels: {
        display: true,
        align: 90,
        formatter: (value, context) => 'test',
      },
    },
  };

  return(
    <Scatter data={data} options={options}/>
  );
};
